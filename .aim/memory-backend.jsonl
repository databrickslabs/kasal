{"type":"_aim","source":"mcp-knowledge-graph"}
{"type":"entity","name":"ProcessCrewExecutor","entityType":"service","observations":["Handles crew execution workflow","Process management for AI agents","Located in src/backend/src/services/process_crew_executor.py","Recently modified - likely core to execution flow"]}
{"type":"entity","name":"CrewAIEngineService","entityType":"service","observations":["CrewAI integration and orchestration","Located in src/backend/src/engines/crewai/crewai_engine_service.py","Engine service for CrewAI framework","Recently modified - active development"]}
{"type":"entity","name":"TemplateService","entityType":"service","observations":["Template management for workflows","Located in src/backend/src/services/template_service.py","Handles workflow templates","Recently modified"]}
{"type":"entity","name":"DatabricksKnowledgeService","entityType":"service","observations":["Databricks integration for knowledge management","Located in src/backend/src/services/databricks_knowledge_service.py","Vector search and knowledge storage","Recently modified"]}
{"type":"entity","name":"CrewPreparation","entityType":"helper","observations":["Crew setup and preparation logic","Located in src/backend/src/engines/crewai/crew_preparation.py","Handles crew initialization","Recently modified"]}
{"type":"entity","name":"AgentHelpers","entityType":"helper","observations":["Agent utility functions and helpers","Located in src/backend/src/engines/crewai/helpers/agent_helpers.py","Agent configuration and setup","Recently modified"]}
{"type":"entity","name":"DatabricksVolumeKnowledgeSource","entityType":"knowledge_component","observations":["Databricks volume integration for knowledge","Located in src/backend/src/engines/crewai/knowledge/databricks_volume_knowledge_source.py","File-based knowledge storage","Recently modified"]}
{"type":"entity","name":"DatabricksEmbedder","entityType":"knowledge_component","observations":["Text embedding service using Databricks","Located in src/backend/src/engines/crewai/knowledge/databricks_embedder.py","New file - vector embedding functionality","Converts text to vectors for similarity search"]}
{"type":"entity","name":"DatabricksVectorKnowledgeSource","entityType":"knowledge_component","observations":["Vector-based knowledge retrieval","Located in src/backend/src/engines/crewai/knowledge/databricks_vector_knowledge_source.py","New file - advanced knowledge retrieval","Uses vector similarity for knowledge matching","Error: chunk_sources field not declared in Pydantic model","Field used in add() method but not defined in class","Causing validation error during CrewAI initialization","FIXED: Added chunk_sources field to Pydantic model definition","Field now properly declared with List[str] type and default_factory","Updated add() method to use clear() instead of assignment","Stores actual memory CONTENT in Databricks Vector Search","Memory content stored as vectors with embeddings","Separate from configuration stored in database models","Vector Search provides similarity search and retrieval","Content isolation per agent through agent_ids field"]}
{"type":"entity","name":"DatabricksVectorSearchStorage","entityType":"knowledge_component","observations":["Vector storage and search infrastructure","Located in src/backend/src/engines/crewai/knowledge/databricks_vector_search_storage.py","New file - vector database operations","Manages vector storage and retrieval","Stores ALL vector search and memory index data","Agent memory content, embeddings, similarity search","Knowledge base vectors, document embeddings","No configuration data - pure content storage","Isolated by agent_ids for multi-tenancy"]}
{"type":"entity","name":"KnowledgeFactory","entityType":"factory","observations":["Factory pattern for knowledge components","Located in src/backend/src/engines/crewai/knowledge/knowledge_factory.py","New file - creates knowledge source instances","Manages different knowledge source types"]}
{"type":"entity","name":"AuthRouter","entityType":"api_router","observations":["Authentication endpoints","Login/logout/refresh token routes","Databricks OAuth integration","JWT token management","Located in /auth routes"]}
{"type":"entity","name":"CrewRouter","entityType":"api_router","observations":["Crew management endpoints","Create/update/delete crew workflows","Execute crew processes","Get crew status and results","Located in /crews routes"]}
{"type":"entity","name":"AgentRouter","entityType":"api_router","observations":["Agent configuration endpoints","CRUD operations for agents","Agent parameter management","Agent validation","Located in /agents routes"]}
{"type":"entity","name":"KnowledgeRouter","entityType":"api_router","observations":["Knowledge source management","File upload and processing","Vector search operations","Databricks volume integration","Located in /knowledge routes"]}
{"type":"entity","name":"TemplateRouter","entityType":"api_router","observations":["Template management endpoints","CRUD operations for workflow templates","Template validation and parsing","Template sharing and export","Located in /templates routes"]}
{"type":"entity","name":"ModelRouter","entityType":"api_router","observations":["LLM model configuration endpoints","Model provider management","Model parameter tuning","Model validation and testing","Located in /models routes"]}
{"type":"entity","name":"ProcessRouter","entityType":"api_router","observations":["Process execution endpoints","Start/stop/pause process operations","Process monitoring and logging","Real-time status updates","Located in /processes routes"]}
{"type":"entity","name":"WebSocketManager","entityType":"websocket_handler","observations":["Real-time communication with frontend","Process execution status updates","Live logging and progress streams","Agent output broadcasting","WebSocket connection management"]}
{"type":"entity","name":"UserModel","entityType":"database_model","observations":["User account and profile data","Authentication credentials","User preferences and settings","Databricks workspace association","SQLAlchemy ORM model"]}
{"type":"entity","name":"CrewModel","entityType":"database_model","observations":["Crew workflow definitions","Agent configurations and relationships","Execution parameters","Created/modified timestamps","User ownership and permissions"]}
{"type":"entity","name":"AgentModel","entityType":"database_model","observations":["Agent configuration and parameters","Role definitions and instructions","Tool assignments","Model provider settings","Performance metrics"]}
{"type":"entity","name":"ProcessModel","entityType":"database_model","observations":["Process execution records","Status tracking (pending/running/completed/failed)","Start/end timestamps","Input parameters and outputs","Error logs and debugging info"]}
{"type":"entity","name":"KnowledgeSourceModel","entityType":"database_model","observations":["Knowledge source configurations","Databricks volume/vector search settings","File metadata and indexing","Access permissions","Embedding configurations"]}
{"type":"entity","name":"TemplateModel","entityType":"database_model","observations":["Workflow template definitions","Template metadata and tags","Version control and history","Usage statistics","Sharing and visibility settings"]}
{"type":"entity","name":"UserRepository","entityType":"repository","observations":["User data access layer","Authentication and authorization queries","User preference management","Async database operations","Unit of Work pattern implementation"]}
{"type":"entity","name":"CrewRepository","entityType":"repository","observations":["Crew workflow data access","CRUD operations for crews","User-specific crew filtering","Execution history queries","Relationship management with agents"]}
{"type":"entity","name":"AgentRepository","entityType":"repository","observations":["Agent configuration data access","Agent performance tracking","Tool assignment management","Model configuration queries","Agent validation and testing"]}
{"type":"entity","name":"ProcessRepository","entityType":"repository","observations":["Process execution data access","Status update operations","Log storage and retrieval","Performance metrics collection","Error tracking and analysis"]}
{"type":"entity","name":"KnowledgeRepository","entityType":"repository","observations":["Knowledge source data access","File metadata operations","Vector search integration","Databricks volume management","Embedding storage and retrieval"]}
{"type":"entity","name":"TemplateRepository","entityType":"repository","observations":["Template data access layer","Version control operations","Template sharing management","Usage analytics","Template validation and parsing"]}
{"type":"entity","name":"AuthUtilities","entityType":"utility","observations":["JWT token generation and validation","Password hashing and verification","OAuth flow management","Session management","Security middleware functions"]}
{"type":"entity","name":"ValidationUtilities","entityType":"utility","observations":["Input data validation","Schema validation for API requests","Business rule validation","Data sanitization","Error formatting and handling"]}
{"type":"entity","name":"LoggingUtilities","entityType":"utility","observations":["Structured logging configuration","Log formatting and filtering","Performance monitoring","Error tracking integration","Audit trail management"]}
{"type":"entity","name":"DatabaseUtilities","entityType":"utility","observations":["Connection pool management","Transaction handling","Migration utilities","Backup and restore functions","Query optimization helpers"]}
{"type":"entity","name":"FlowModel","entityType":"database_model","observations":["Workflow/Flow definitions","Located in src/backend/src/models/flow.py","Core business entity for AI workflows","Contains flow metadata and configuration","Relationships to agents, tasks, and executions"]}
{"type":"entity","name":"FlowExecutionModel","entityType":"database_model","observations":["Flow execution instances","Located in src/backend/src/models/flow_execution.py","Tracks individual flow runs","Execution status and timing","Links to execution logs and traces"]}
{"type":"entity","name":"TaskModel","entityType":"database_model","observations":["Individual task definitions within flows","Located in src/backend/src/models/task.py","Task configuration and parameters","Relationships to agents and tools","Task execution tracking"]}
{"type":"entity","name":"CrewModel_Real","entityType":"database_model","observations":["Real crew model implementation","Located in src/backend/src/models/crew.py","Agent group orchestration","Crew configuration and settings","Links to agents and execution history"]}
{"type":"entity","name":"AgentModel_Real","entityType":"database_model","observations":["Real agent model implementation","Located in src/backend/src/models/agent.py","Agent configuration and behavior","Role definitions and instructions","Tool assignments and capabilities"]}
{"type":"entity","name":"ToolModel","entityType":"database_model","observations":["Tool definitions and configurations","Located in src/backend/src/models/tool.py","Tool metadata and parameters","API integrations and credentials","Tool usage tracking and analytics"]}
{"type":"entity","name":"TemplateModel_Real","entityType":"database_model","observations":["Real template model implementation","Located in src/backend/src/models/template.py","Workflow template definitions","Template versioning and metadata","Usage statistics and sharing settings"]}
{"type":"entity","name":"UserModel_Real","entityType":"database_model","observations":["Real user model implementation","Located in src/backend/src/models/user.py","User authentication and profile","Workspace associations","User preferences and settings"]}
{"type":"entity","name":"ExecutionStatusModel","entityType":"database_model","observations":["Execution status tracking","Located in src/backend/src/models/execution_status.py","Status enums and state management","Execution phase tracking","Status transition logging"]}
{"type":"entity","name":"ExecutionLogsModel","entityType":"database_model","observations":["Detailed execution logging","Located in src/backend/src/models/execution_logs.py","Log entries for executions","Error tracking and debugging","Performance metrics collection"]}
{"type":"entity","name":"ExecutionTraceModel","entityType":"database_model","observations":["Execution trace and debugging","Located in src/backend/src/models/execution_trace.py","Step-by-step execution tracking","Agent decision traces","Debug information and call stacks"]}
{"type":"entity","name":"ExecutionHistoryModel","entityType":"database_model","observations":["Historical execution records","Located in src/backend/src/models/execution_history.py","Long-term execution analytics","Performance trends","Historical comparisons and insights"]}
{"type":"entity","name":"GroupModel","entityType":"database_model","observations":["User group and organization management","Located in src/backend/src/models/group.py","Multi-tenancy support","Group permissions and access control","Resource sharing and isolation"]}
{"type":"entity","name":"BillingModel","entityType":"database_model","observations":["Billing and usage tracking","Located in src/backend/src/models/billing.py","Cost tracking per execution","Resource usage metrics","Billing integration and reporting"]}
{"type":"entity","name":"LogModel","entityType":"database_model","observations":["General application logging","Located in src/backend/src/models/log.py","System logs and events","Audit trail and compliance","Application monitoring"]}
{"type":"entity","name":"ChatHistoryModel","entityType":"database_model","observations":["Chat and conversation history","Located in src/backend/src/models/chat_history.py","User interaction logs","Conversation context storage","Chat analytics and insights"]}
{"type":"entity","name":"ModelConfigModel","entityType":"database_model","observations":["LLM model configurations","Located in src/backend/src/models/model_config.py","Model provider settings","Parameter tuning and optimization","Cost and performance configurations"]}
{"type":"entity","name":"EngineConfigModel","entityType":"database_model","observations":["Engine configuration settings","Located in src/backend/src/models/engine_config.py","Execution engine parameters","Runtime configurations","Performance tuning settings"]}
{"type":"entity","name":"DatabricksConfigModel","entityType":"database_model","observations":["Databricks integration settings","Located in src/backend/src/models/databricks_config.py","Workspace and cluster configurations","Authentication and access tokens","Volume and catalog settings"]}
{"type":"entity","name":"ApiKeyModel","entityType":"database_model","observations":["API key management","Located in src/backend/src/models/api_key.py","External service API keys","Key rotation and security","Service integration credentials"]}
{"type":"entity","name":"ScheduleModel","entityType":"database_model","observations":["Workflow scheduling and automation","Located in src/backend/src/models/schedule.py","Cron-like scheduling definitions","Recurring execution patterns","Schedule management and triggers"]}
{"type":"entity","name":"DataProcessingModel","entityType":"database_model","observations":["Data processing pipeline configurations","Located in src/backend/src/models/data_processing.py","Data transformation rules","Processing pipeline definitions","Input/output data mappings"]}
{"type":"entity","name":"DocumentationEmbeddingModel","entityType":"database_model","observations":["Documentation vector embeddings","Located in src/backend/src/models/documentation_embedding.py","Knowledge base embeddings","Document indexing and search","Semantic search capabilities"]}
{"type":"entity","name":"MemoryBackendModel","entityType":"database_model","observations":["Memory backend configurations","Located in src/backend/src/models/memory_backend.py","Agent memory persistence","Memory storage backends","Context and history management","Stores memory CONFIGURATION only, not actual memory content","Configuration includes memory type, settings, and metadata","Actual memory content stored separately in Databricks Vector Search","Database acts as configuration registry for memory backends","Vector Search handles the actual memory storage and retrieval"]}
{"type":"entity","name":"McpSettingsModel","entityType":"database_model","observations":["MCP server settings and configurations","Located in src/backend/src/models/mcp_settings.py","Model Context Protocol configurations","Server connection parameters","MCP integration settings"]}
{"type":"entity","name":"McpServerModel","entityType":"database_model","observations":["MCP server definitions","Located in src/backend/src/models/mcp_server.py","Available MCP servers","Server capabilities and endpoints","Connection status and health"]}
{"type":"entity","name":"PrivilegesModel","entityType":"database_model","observations":["User privileges and permissions","Located in src/backend/src/models/privileges.py","Role-based access control","Permission matrices","Security and authorization settings"]}
{"type":"entity","name":"InitializationStatusModel","entityType":"database_model","observations":["System initialization tracking","Located in src/backend/src/models/initialization_status.py","Startup sequence monitoring","Component initialization status","System health and readiness checks"]}
{"type":"entity","name":"SchemaModel","entityType":"database_model","observations":["Database schema versioning","Located in src/backend/src/models/schema.py","Schema evolution tracking","Migration status","Database structure metadata"]}
{"type":"entity","name":"EnumsModel","entityType":"database_model","observations":["Enum definitions and constants","Located in src/backend/src/models/enums.py","Status enumerations","Type definitions","Shared constants across models"]}
{"type":"entity","name":"FlowRepository_Real","entityType":"repository","observations":["Real flow repository implementation","Located in src/backend/src/repositories/flow_repository.py","Flow CRUD operations","Flow query and filtering","Flow relationship management"]}
{"type":"entity","name":"FlowExecutionRepository_Real","entityType":"repository","observations":["Real flow execution repository","Located in src/backend/src/repositories/flow_execution_repository.py","Execution tracking and monitoring","Status updates and progress","Execution history management"]}
{"type":"entity","name":"TaskRepository_Real","entityType":"repository","observations":["Real task repository implementation","Located in src/backend/src/repositories/task_repository.py","Task CRUD operations","Task dependency management","Task execution tracking"]}
{"type":"entity","name":"CrewRepository_Real","entityType":"repository","observations":["Real crew repository implementation","Located in src/backend/src/repositories/crew_repository.py","Crew management operations","Agent orchestration queries","Crew execution history"]}
{"type":"entity","name":"AgentRepository_Real","entityType":"repository","observations":["Real agent repository implementation","Located in src/backend/src/repositories/agent_repository.py","Agent CRUD operations","Agent configuration management","Agent performance analytics"]}
{"type":"entity","name":"ToolRepository_Real","entityType":"repository","observations":["Real tool repository implementation","Located in src/backend/src/repositories/tool_repository.py","Tool management and configuration","Tool usage tracking","Tool integration metadata"]}
{"type":"entity","name":"TemplateRepository_Real","entityType":"repository","observations":["Real template repository implementation","Located in src/backend/src/repositories/template_repository.py","Template CRUD operations","Template versioning","Template sharing and permissions"]}
{"type":"entity","name":"UserRepository_Real","entityType":"repository","observations":["Real user repository implementation","Located in src/backend/src/repositories/user_repository.py","User authentication and profile","User preference management","Workspace association queries"]}
{"type":"entity","name":"ExecutionRepository","entityType":"repository","observations":["Execution management repository","Located in src/backend/src/repositories/execution_repository.py","General execution operations","Execution state management","Cross-execution analytics"]}
{"type":"entity","name":"ExecutionLogsRepository","entityType":"repository","observations":["Execution logs repository","Located in src/backend/src/repositories/execution_logs_repository.py","Log storage and retrieval","Log filtering and search","Performance log analysis"]}
{"type":"entity","name":"ExecutionTraceRepository","entityType":"repository","observations":["Execution trace repository","Located in src/backend/src/repositories/execution_trace_repository.py","Trace data management","Debug information storage","Step-by-step execution tracking"]}
{"type":"entity","name":"ExecutionHistoryRepository","entityType":"repository","observations":["Execution history repository","Located in src/backend/src/repositories/execution_history_repository.py","Historical execution data","Analytics and reporting","Performance trend analysis"]}
{"type":"entity","name":"GroupRepository","entityType":"repository","observations":["Group management repository","Located in src/backend/src/repositories/group_repository.py","Multi-tenant group operations","Group permission management","Resource sharing queries"]}
{"type":"entity","name":"BillingRepository","entityType":"repository","observations":["Billing and usage repository","Located in src/backend/src/repositories/billing_repository.py","Cost tracking operations","Usage metrics collection","Billing report generation"]}
{"type":"entity","name":"LogRepository","entityType":"repository","observations":["Application log repository","Located in src/backend/src/repositories/log_repository.py","System log management","Audit trail operations","Log aggregation and analysis"]}
{"type":"entity","name":"ChatHistoryRepository","entityType":"repository","observations":["Chat history repository","Located in src/backend/src/repositories/chat_history_repository.py","Conversation storage","Chat analytics","Context retrieval operations"]}
{"type":"entity","name":"ModelConfigRepository","entityType":"repository","observations":["Model configuration repository","Located in src/backend/src/repositories/model_config_repository.py","LLM model settings management","Model parameter optimization","Provider configuration operations"]}
{"type":"entity","name":"EngineConfigRepository","entityType":"repository","observations":["Engine configuration repository","Located in src/backend/src/repositories/engine_config_repository.py","Engine parameter management","Runtime configuration operations","Performance tuning queries"]}
{"type":"entity","name":"DatabricksConfigRepository","entityType":"repository","observations":["Databricks configuration repository","Located in src/backend/src/repositories/databricks_config_repository.py","Databricks integration settings","Workspace configuration management","Authentication token operations"]}
{"type":"entity","name":"ApiKeyRepository","entityType":"repository","observations":["API key management repository","Located in src/backend/src/repositories/api_key_repository.py","API key CRUD operations","Key rotation and security","Service credential management"]}
{"type":"entity","name":"ScheduleRepository","entityType":"repository","observations":["Schedule management repository","Located in src/backend/src/repositories/schedule_repository.py","Workflow scheduling operations","Cron job management","Schedule trigger operations"]}
{"type":"entity","name":"DataProcessingRepository","entityType":"repository","observations":["Data processing repository","Located in src/backend/src/repositories/data_processing_repository.py","Data pipeline management","Processing rule operations","Data transformation tracking"]}
{"type":"entity","name":"DocumentationEmbeddingRepository","entityType":"repository","observations":["Documentation embedding repository","Located in src/backend/src/repositories/documentation_embedding_repository.py","Vector embedding operations","Knowledge base search","Semantic similarity queries"]}
{"type":"entity","name":"MemoryBackendRepository","entityType":"repository","observations":["Memory backend repository","Located in src/backend/src/repositories/memory_backend_repository.py","Agent memory persistence","Context storage operations","Memory retrieval and management"]}
{"type":"entity","name":"McpRepository","entityType":"repository","observations":["MCP (Model Context Protocol) repository","Located in src/backend/src/repositories/mcp_repository.py","MCP server management","Protocol configuration operations","Server health monitoring"]}
{"type":"entity","name":"SchemaRepository","entityType":"repository","observations":["Database schema repository","Located in src/backend/src/repositories/schema_repository.py","Schema version management","Migration tracking","Database structure operations"]}
{"type":"entity","name":"TaskTrackingRepository","entityType":"repository","observations":["Task tracking repository","Located in src/backend/src/repositories/task_tracking_repository.py","Task progress monitoring","Dependency tracking","Task analytics operations"]}
{"type":"entity","name":"AgentTraceRepository","entityType":"repository","observations":["Agent trace repository","Located in src/backend/src/repositories/agent_trace_repository.py","Agent decision tracking","Behavior analysis","Agent performance monitoring"]}
{"type":"entity","name":"OutputCombinerRepository","entityType":"repository","observations":["Output combiner repository","Located in src/backend/src/repositories/output_combiner_repository.py","Output aggregation operations","Result combination logic","Multi-agent output merging"]}
{"type":"entity","name":"CrewGeneratorRepository","entityType":"repository","observations":["Crew generator repository","Located in src/backend/src/repositories/crew_generator_repository.py","Dynamic crew creation","Template-based crew generation","Crew optimization operations"]}
{"type":"entity","name":"GenieRepository","entityType":"repository","observations":["Genie repository","Located in src/backend/src/repositories/genie_repository.py","AI assistant functionality","Smart recommendations","Automated workflow suggestions"]}
{"type":"entity","name":"DatabaseBackupRepository","entityType":"repository","observations":["Database backup repository","Located in src/backend/src/repositories/database_backup_repository.py","Database backup operations","Restore functionality","Data integrity management"]}
{"type":"entity","name":"DatabricksVectorIndexRepository","entityType":"repository","observations":["Databricks vector index repository","Located in src/backend/src/repositories/databricks_vector_index_repository.py","Vector index management","Databricks Vector Search operations","Index optimization and maintenance"]}
{"type":"entity","name":"DatabricksVectorEndpointRepository","entityType":"repository","observations":["Databricks vector endpoint repository","Located in src/backend/src/repositories/databricks_vector_endpoint_repository.py","Vector endpoint configuration","Search endpoint management","Performance monitoring"]}
{"type":"entity","name":"DatabricksVolumeRepository","entityType":"repository","observations":["Databricks volume repository","Located in src/backend/src/repositories/databricks_volume_repository.py","Volume storage operations","File management in Databricks","Data persistence and retrieval"]}
{"type":"entity","name":"DatabricksAuthHelper","entityType":"repository","observations":["Databricks authentication helper","Located in src/backend/src/repositories/databricks_auth_helper.py","Authentication utilities","Token management","OAuth integration support"]}
{"type":"entity","name":"DatabricksVectorSearchEndpoint","entityType":"databricks_integration","observations":["Vector Search endpoint management","Located in DatabricksVectorEndpointRepository","Endpoint creation and configuration","Vector search API integration","Endpoint health monitoring and status"]}
{"type":"entity","name":"DatabricksVectorIndex","entityType":"databricks_integration","observations":["Vector index management system","Located in DatabricksVectorIndexRepository","Index creation, updates, and deletion","Vector embedding storage","Similarity search operations"]}
{"type":"entity","name":"DatabricksVectorSearchClient","entityType":"databricks_integration","observations":["Vector Search client interface","SDK integration for vector operations","Search query execution","Result ranking and filtering","Connection pool management"]}
{"type":"entity","name":"VectorEmbeddingPipeline","entityType":"databricks_integration","observations":["Text-to-vector conversion pipeline","Integration with DatabricksEmbedder","Batch embedding processing","Embedding model management","Vector dimension optimization"]}
{"type":"entity","name":"VectorSearchConfiguration","entityType":"databricks_integration","observations":["Vector search settings and parameters","Search algorithm configuration","Similarity threshold management","Result limit and filtering rules","Performance optimization settings"]}
{"type":"entity","name":"VectorIndexSynchronization","entityType":"databricks_integration","observations":["Index synchronization service","Real-time index updates","Batch synchronization processes","Delta sync operations","Index consistency management"]}
{"type":"entity","name":"VectorSearchMetrics","entityType":"databricks_integration","observations":["Vector search performance metrics","Query response time tracking","Index size and utilization","Search accuracy measurements","Cost optimization analytics"]}
{"type":"entity","name":"VectorSearchErrorHandler","entityType":"databricks_integration","observations":["Vector search error management","Retry logic for failed queries","Fallback search strategies","Error logging and alerting","Service degradation handling"]}
{"type":"entity","name":"DatabricksVolumeManager","entityType":"databricks_integration","observations":["Volume lifecycle management","Located in DatabricksVolumeRepository","Volume creation, mounting, and deletion","File system integration","Volume access control and permissions"]}
{"type":"entity","name":"DatabricksVolumeStorage","entityType":"databricks_integration","observations":["Volume file storage operations","File upload and download management","Directory structure maintenance","Large file handling","Storage quota management"]}
{"type":"entity","name":"VolumeFileMetadata","entityType":"databricks_integration","observations":["File metadata management in volumes","File indexing and cataloging","Metadata search capabilities","File versioning and history","Content type detection"]}
{"type":"entity","name":"VolumeAccessController","entityType":"databricks_integration","observations":["Volume access control system","Permission management for files","User and group access policies","Secure file sharing","Audit trail for file access"]}
{"type":"entity","name":"VolumeKnowledgeIngestion","entityType":"databricks_integration","observations":["Knowledge ingestion from volumes","Document processing pipeline","Text extraction and parsing","Knowledge graph population","Content indexing and embedding"]}
{"type":"entity","name":"VolumeSyncService","entityType":"databricks_integration","observations":["Volume synchronization service","Real-time file change detection","Incremental sync operations","Conflict resolution","Multi-volume coordination"]}
{"type":"entity","name":"VolumeMonitoringService","entityType":"databricks_integration","observations":["Volume monitoring and health checks","Storage utilization tracking","Performance metrics collection","Error detection and alerting","Capacity planning analytics"]}
{"type":"entity","name":"VolumeBackupService","entityType":"databricks_integration","observations":["Volume backup and recovery","Automated backup scheduling","Point-in-time recovery","Cross-region backup replication","Disaster recovery planning"]}
{"type":"entity","name":"DatabricksOBOAuthentication","entityType":"authentication_system","observations":["On-Behalf-Of authentication implementation","User impersonation for Databricks operations","Token delegation and management","Service account integration","Secure user context switching"]}
{"type":"entity","name":"OBOTokenManager","entityType":"authentication_system","observations":["OBO token lifecycle management","Token generation and validation","Token refresh and expiration","Secure token storage","Token revocation capabilities"]}
{"type":"entity","name":"UserContextManager","entityType":"authentication_system","observations":["User context switching service","Identity propagation across services","Permission inheritance","Context validation","Audit trail for context switches"]}
{"type":"entity","name":"DatabricksOAuthProvider","entityType":"authentication_system","observations":["Databricks OAuth2 integration","Authorization code flow","Client credentials management","Redirect URI handling","OAuth token exchange"]}
{"type":"entity","name":"WorkspaceAuthentication","entityType":"authentication_system","observations":["Databricks workspace authentication","Workspace-specific permissions","Multi-workspace support","Workspace switching capabilities","Resource access control per workspace"]}
{"type":"entity","name":"ServicePrincipalAuth","entityType":"authentication_system","observations":["Service principal authentication","Application-level authentication","Client secret management","Automated authentication flows","Service-to-service authentication"]}
{"type":"entity","name":"PersonalAccessTokenAuth","entityType":"authentication_system","observations":["Personal Access Token authentication","User-generated token management","Token scope and permissions","Token rotation policies","Legacy authentication support"]}
{"type":"entity","name":"AuthenticationMiddleware","entityType":"authentication_system","observations":["Authentication middleware layer","Request authentication validation","Token extraction and verification","Authentication flow routing","Error handling and fallbacks"]}
{"type":"entity","name":"JWTAuthenticationFlow","entityType":"authentication_flow","observations":["JSON Web Token authentication","Stateless authentication mechanism","Token-based session management","Claims-based authorization","Cross-service authentication"]}
{"type":"entity","name":"OAuth2AuthorizationFlow","entityType":"authentication_flow","observations":["OAuth 2.0 authorization code flow","Third-party authentication integration","User consent management","Authorization server integration","Secure token exchange"]}
{"type":"entity","name":"SessionBasedAuthentication","entityType":"authentication_flow","observations":["Traditional session-based auth","Server-side session storage","Cookie-based session tracking","Session timeout management","Session invalidation"]}
{"type":"entity","name":"APIKeyAuthentication","entityType":"authentication_flow","observations":["API key-based authentication","Programmatic access control","Rate limiting per API key","Key rotation and management","Service-to-service authentication"]}
{"type":"entity","name":"AuthenticationFlowOrchestrator","entityType":"authentication_system","observations":["Coordinates multiple auth flows","Flow selection based on context","Fallback authentication strategies","Authentication flow monitoring","Performance optimization across flows"]}
{"type":"entity","name":"AuthorizationManager","entityType":"authentication_system","observations":["Authorization and permission management","Role-based access control (RBAC)","Resource-level permissions","Permission inheritance and delegation","Authorization policy enforcement"]}
{"type":"entity","name":"AuthenticationAuditService","entityType":"authentication_system","observations":["Authentication event logging","Security audit trail","Failed authentication tracking","Compliance reporting","Suspicious activity detection"]}
{"type":"entity","name":"AuthenticationCacheService","entityType":"authentication_system","observations":["Authentication result caching","Token validation caching","Permission cache management","Cache invalidation strategies","Performance optimization"]}
{"type":"entity","name":"KnowledgeVolumeConfig","entityType":"configuration","observations":["Active Databricks config ID 16 in PostgreSQL","knowledge_volume_enabled = true","knowledge_volume_path = 'users.nehme_tohme.knowledge'","Frontend is browsing wrong path: main.default.knowledge","API endpoint works: /api/v1/databricks/knowledge/browse/{path}","Volume is accessible but empty - no files uploaded yet","FIXED: Backend now correctly resolves to user_admin_admin_com group in development","Volume path users.nehme_tohme.knowledge is correct and accessible","Authentication hierarchy working: OBO > API key service > env token","Group context resolution working for both production and development","Configuration for Databricks volume integration","Database stores volume paths and access settings","Actual files stored in Databricks Unity Catalog volumes","Volume configuration separate from content storage","Authentication and path resolution handled by config"]}
{"type":"entity","name":"BrowseVolumeIssue","entityType":"bug","observations":["Frontend browseVolumeFiles function uses hardcoded 'main.default.knowledge'","Should get volume path from databricksConfig.knowledge_volume_path","Database shows correct path: users.nehme_tohme.knowledge","API returns empty array [] for both paths - volumes are empty","Need to upload files first to test Browse Volume functionality","BREAKTHROUGH: Direct Databricks API shows 1 file in volume","browse_volume_files service looks correct - should return files","Issue may be in authentication context between frontend and backend","Frontend may not be passing proper group context or user tokens","Need to test with authentication headers to simulate frontend call","ROOT CAUSE FOUND: Missing X-Forwarded-Email header in API calls","Backend requires group context to find correct Databricks configuration","Without email header, backend uses default group instead of user_admin_admin_com","Test confirmed: API works with X-Forwarded-Email: admin@admin.com","PRODUCTION ISSUE: Frontend not getting real user context from environment","Need proper authentication flow, not mocking","SOLUTION IMPLEMENTED: Modified dependencies.py to use admin@admin.com as default in DEBUG_MODE","Production-ready: In production, Databricks Apps provides X-Forwarded-Email automatically","Local development: Falls back to admin@admin.com when no email headers present","CONFIRMED WORKING: API now returns volume directory correctly","Next step: Test frontend Browse Volume UI to confirm end-to-end functionality"]}
{"type":"entity","name":"KasalDatabase","entityType":"database","observations":["Local development uses kasal.db SQLite database","Database located at src/backend/kasal.db","Production uses PostgreSQL database","Contains all application data including knowledge sources, documents, and crew configurations","Database running on localhost PostgreSQL","Username: postgres, Password: postgres","Database name: kasal","Accessible via psql -h localhost -U postgres -d kasal","Stores ALL operational and configuration data","Execution runs, process logs, audit trails","User accounts, crew configurations, agent definitions","API keys, authentication settings, workspace configs","System logs, execution history, status tracking","No vector data - pure relational/operational data"]}
{"type":"entity","name":"DocumentKnowledgeIssue","entityType":"bug","observations":["PROBLEM: Document content chunks are not being added to task context during crew execution","ROOT CAUSE: Knowledge sources are configured per-agent but tasks don't inherit or access agent knowledge sources","CURRENT FLOW: Agent knowledge sources are created and attached to agents only","MISSING LINK: Task context should include content chunks from agent's knowledge sources","EVIDENCE: ProcessCrewExecutor logs show knowledge_sources in agent config but tasks don't access them","IMPACT: Crews can't use uploaded document content during task execution","SOLUTION IMPLEMENTED: Modified create_task function in task_helpers.py","FIX: Added knowledge source content extraction in task creation process","IMPLEMENTATION: Extract content chunks from agent.knowledge_sources and prepend to task description","HANDLES: String knowledge sources, vector sources with chunk_sources, document collections","FALLBACK: Calls add() method to trigger loading if content not immediately available","FORMAT: Prepends structured knowledge context to task description with clear delimiters","ERROR HANDLING: Graceful degradation if knowledge extraction fails","LOCATION: Lines 386-460 in src/engines/crewai/helpers/task_helpers.py","STATUS: Ready for testing with uploaded documents"]}
{"type":"entity","name":"Kasal_Agent_ID","entityType":"identifier","observations":["UUID string generated by generate_uuid()","Primary key in Agent model (models/agent.py line 19)","Stable unique identifier across system","Used for database relationships and foreign keys","Should be used for vector index agent access control","Successfully implemented in vector index agent_ids field","Used in DatabricksVectorKnowledgeSource for access control","Passed from crew_preparation.py to knowledge_factory.py","Stored in vector index document records as JSON array"]}
{"type":"entity","name":"CrewAI_Agent_Name","entityType":"identifier","observations":["Display name used in CrewAI configurations","Fallback from agent.name, agent.id, or agent.role","Used as key in crew_preparation.py agents dictionary","Not unique across groups","Should NOT be used for vector index access control"]}
{"type":"entity","name":"Agent_ID_Resolution","entityType":"pattern","observations":["agent_config.get('id') contains Kasal Agent UUID","agent_config.get('name') contains display name","Pattern: agent_name = config.get('name', config.get('id', config.get('role')))","agent_id = config.get('id', agent_name)","Found in crew_preparation.py around line 331","Implementation completed in crew_preparation.py line 379","Knowledge factory call now passes agent_id parameter","Vector index records include agent_ids field for filtering"]}
{"type":"entity","name":"Vector_Index_Access_Control","entityType":"feature","observations":["Implemented agent-based filtering in task_helpers.py","Tasks now search vector index with agent_id filter","Uses agent_ids field to determine document access permissions","Replaces direct knowledge source content extraction","Provides proper isolation between agents and their knowledge"]}
{"type":"entity","name":"DatabricksKnowledgeRouter","entityType":"api_router","observations":["Knowledge source management for Databricks","File upload and vector search operations","Browse volume files endpoint","Vector search endpoint","Located in /api/databricks/knowledge routes","Recently modified for stop execution feature","Handles Databricks volume and vector search integration"]}
{"type":"entity","name":"FlowsRouter","entityType":"api_router","observations":["Flow/workflow management endpoints","CRUD operations for flows","Flow execution management","Flow configuration and validation","Located in /flows routes"]}
{"type":"entity","name":"ExecutionsRouter","entityType":"api_router","observations":["Process execution endpoints","Start/stop/pause execution operations","Real-time execution status","Execution monitoring and control","Located in /executions routes"]}
{"type":"entity","name":"ModelsRouter","entityType":"api_router","observations":["LLM model configuration endpoints","Model provider management","Model parameter configuration","Model validation and testing","Located in /models routes"]}
{"type":"entity","name":"DatabricksRouter","entityType":"api_router","observations":["General Databricks integration endpoints","Databricks configuration management","Authentication and workspace setup","Located in /databricks routes"]}
{"type":"entity","name":"FlowService","entityType":"service","observations":["Flow/workflow business logic","Located in src/backend/src/services/flow_service.py","Flow lifecycle management","Flow validation and configuration","Orchestrates flow execution workflow"]}
{"type":"entity","name":"ExecutionService","entityType":"service","observations":["Process execution business logic","Located in src/backend/src/services/execution_service.py","Execution lifecycle management","Status tracking and monitoring","Coordinates with execution repositories"]}
{"type":"entity","name":"ModelConfigService","entityType":"service","observations":["LLM model configuration management","Located in src/backend/src/services/model_config_service.py","Model provider configuration","Model parameter validation","Model testing and validation"]}
{"type":"entity","name":"DatabricksService","entityType":"service","observations":["General Databricks integration service","Located in src/backend/src/services/databricks_service.py","Databricks workspace management","Authentication and configuration","General Databricks operations"]}
{"type":"entity","name":"UserService","entityType":"service","observations":["User account management","Located in src/backend/src/services/user_service.py","User authentication and profiles","User preference management","Group association management"]}
{"type":"entity","name":"ToolService","entityType":"service","observations":["Tool management and configuration","Located in src/backend/src/services/tool_service.py","Tool parameter validation","Tool usage tracking","Tool integration management"]}
{"type":"entity","name":"AgentService","entityType":"service","observations":["Agent configuration management","Located in src/backend/src/services/agent_service.py","Agent parameter validation","Agent performance tracking","Agent-tool relationship management"]}
{"type":"entity","name":"TaskService","entityType":"service","observations":["Task management and configuration","Located in src/backend/src/services/task_service.py","Task parameter validation","Task execution tracking","Task-agent relationship management"]}
{"type":"entity","name":"AuthService","entityType":"service","observations":["JWT token management and validation service","OAuth2 flow coordination with Databricks","User authentication and session management","Password hashing and verification","Token refresh and revocation logic","Referenced by AuthRouter but not yet documented","Handles login, logout, and refresh token operations","CURRENT USAGE: Only used by auth_router.py - not enforced across business logic endpoints","ARCHITECTURAL GAP: Main business services (AgentService, CrewService, TemplateService, ExecutionService) do not use authentication dependencies","AUTHENTICATION ENDPOINTS: Only auth_router.py and identity_providers_router.py use get_current_user/get_current_active_user","FUTURE PURPOSE: Designed for upcoming privilege/RBAC logic implementation across all business endpoints","COMPREHENSIVE CAPABILITIES: Full JWT authentication system with user registration, login, token refresh, password management, external OAuth support","READY FOR EXPANSION: Service layer architecture supports adding authentication dependencies to any business service","TECHNICAL DEBT: Application currently operates without authentication enforcement on core business operations","IMPLEMENTATION STRATEGY: When privilege logic is added, business services can easily integrate via dependency injection pattern: get_current_user dependency"]}
{"type":"entity","name":"EmailService","entityType":"service","observations":["Email notification and communication service","SMTP integration for transactional emails","Template-based email composition","Execution completion notifications","Password reset email handling","Async email queue management"]}
{"type":"entity","name":"ValidationService","entityType":"service","observations":["Cross-cutting validation logic service","Business rule validation beyond Pydantic schemas","Complex validation patterns for workflows","Agent and task configuration validation","Data integrity checks across entities","Custom validation rule engine"]}
{"type":"entity","name":"CacheService","entityType":"service","observations":["Application-level caching service","Redis integration for distributed caching","Cache invalidation strategies","Performance optimization for repeated operations","Model configuration and template caching","Execution result caching for reuse"]}
{"type":"entity","name":"BackgroundTaskService","entityType":"service","observations":["Async job management and scheduling service","Celery or similar task queue integration","Background execution coordination","Long-running process management","Task retry and error handling","Scheduled workflow execution"]}
{"type":"entity","name":"AuditService","entityType":"service","observations":["Compliance and audit logging service","User action tracking and attribution","Data access and modification logs","Security event monitoring","Regulatory compliance support","Audit trail generation and export"]}
{"type":"entity","name":"LiteLLMService","entityType":"service","observations":["LLM provider abstraction service","Unified interface across Databricks, OpenAI, Anthropic","Model switching and fallback logic","Rate limiting and cost optimization","Token usage tracking and billing","Provider-specific configuration management"]}
{"type":"entity","name":"WebhookService","entityType":"service","observations":["External webhook management service","Webhook registration and validation","Event-driven integration with external systems","Execution status notifications","Retry logic for failed webhook deliveries","Security verification for incoming webhooks"]}
{"type":"entity","name":"FileStorageService","entityType":"service","observations":["File handling abstraction service","Local and cloud storage coordination","File upload and download management","Temporary file lifecycle management","File metadata and indexing","Storage quota and cleanup policies"]}
{"type":"entity","name":"SearchService","entityType":"service","observations":["Full-text search service beyond vector search","Elasticsearch or similar search engine integration","Multi-entity search across workflows, agents, tasks","Search indexing and relevance scoring","Faceted search and filtering","Search analytics and optimization"]}
{"type":"entity","name":"KnowledgeSourceFactory","entityType":"factory","observations":["Factory for creating knowledge sources from configuration","Avoids JSON serialization issues by creating objects in subprocess","Located in engines/crewai/knowledge/knowledge_factory.py","Supports databricks_volume and string knowledge source types","Handles execution isolation and agent access control"]}
{"type":"entity","name":"SourceFilteredStorage","entityType":"wrapper","observations":["Storage wrapper for automatic source path filtering","Part of DatabricksVectorKnowledgeSource implementation","Intercepts search calls to add file path filters","Enables knowledge source isolation by file paths","Handles both sync and async search operations"]}
{"type":"relation","from":"Backend","to":"ProcessCrewExecutor","relationType":"contains"}
{"type":"relation","from":"Backend","to":"CrewAIEngineService","relationType":"contains"}
{"type":"relation","from":"Backend","to":"TemplateService","relationType":"contains"}
{"type":"relation","from":"Backend","to":"DatabricksKnowledgeService","relationType":"contains"}
{"type":"relation","from":"ProcessCrewExecutor","to":"CrewAIEngineService","relationType":"uses"}
{"type":"relation","from":"CrewAIEngineService","to":"CrewPreparation","relationType":"uses"}
{"type":"relation","from":"CrewPreparation","to":"AgentHelpers","relationType":"uses"}
{"type":"relation","from":"DatabricksKnowledgeService","to":"DatabricksVolumeKnowledgeSource","relationType":"integrates_with"}
{"type":"relation","from":"KnowledgeFactory","to":"DatabricksVectorKnowledgeSource","relationType":"creates"}
{"type":"relation","from":"KnowledgeFactory","to":"DatabricksVolumeKnowledgeSource","relationType":"creates"}
{"type":"relation","from":"DatabricksVectorKnowledgeSource","to":"DatabricksEmbedder","relationType":"uses"}
{"type":"relation","from":"DatabricksVectorKnowledgeSource","to":"DatabricksVectorSearchStorage","relationType":"uses"}
{"type":"relation","from":"UserRepository","to":"UserModel","relationType":"manages"}
{"type":"relation","from":"CrewRepository","to":"CrewModel","relationType":"manages"}
{"type":"relation","from":"AgentRepository","to":"AgentModel","relationType":"manages"}
{"type":"relation","from":"ProcessRepository","to":"ProcessModel","relationType":"manages"}
{"type":"relation","from":"KnowledgeRepository","to":"KnowledgeSourceModel","relationType":"manages"}
{"type":"relation","from":"TemplateRepository","to":"TemplateModel","relationType":"manages"}
{"type":"relation","from":"FlowRepository_Real","to":"FlowModel","relationType":"manages"}
{"type":"relation","from":"FlowExecutionRepository_Real","to":"FlowExecutionModel","relationType":"manages"}
{"type":"relation","from":"TaskRepository_Real","to":"TaskModel","relationType":"manages"}
{"type":"relation","from":"CrewRepository_Real","to":"CrewModel_Real","relationType":"manages"}
{"type":"relation","from":"AgentRepository_Real","to":"AgentModel_Real","relationType":"manages"}
{"type":"relation","from":"ToolRepository_Real","to":"ToolModel","relationType":"manages"}
{"type":"relation","from":"TemplateRepository_Real","to":"TemplateModel_Real","relationType":"manages"}
{"type":"relation","from":"UserRepository_Real","to":"UserModel_Real","relationType":"manages"}
{"type":"relation","from":"ExecutionRepository","to":"ExecutionStatusModel","relationType":"manages"}
{"type":"relation","from":"ExecutionLogsRepository","to":"ExecutionLogsModel","relationType":"manages"}
{"type":"relation","from":"ExecutionTraceRepository","to":"ExecutionTraceModel","relationType":"manages"}
{"type":"relation","from":"ExecutionHistoryRepository","to":"ExecutionHistoryModel","relationType":"manages"}
{"type":"relation","from":"GroupRepository","to":"GroupModel","relationType":"manages"}
{"type":"relation","from":"BillingRepository","to":"BillingModel","relationType":"manages"}
{"type":"relation","from":"LogRepository","to":"LogModel","relationType":"manages"}
{"type":"relation","from":"ChatHistoryRepository","to":"ChatHistoryModel","relationType":"manages"}
{"type":"relation","from":"ModelConfigRepository","to":"ModelConfigModel","relationType":"manages"}
{"type":"relation","from":"EngineConfigRepository","to":"EngineConfigModel","relationType":"manages"}
{"type":"relation","from":"DatabricksConfigRepository","to":"DatabricksConfigModel","relationType":"manages"}
{"type":"relation","from":"ApiKeyRepository","to":"ApiKeyModel","relationType":"manages"}
{"type":"relation","from":"ScheduleRepository","to":"ScheduleModel","relationType":"manages"}
{"type":"relation","from":"DataProcessingRepository","to":"DataProcessingModel","relationType":"manages"}
{"type":"relation","from":"DocumentationEmbeddingRepository","to":"DocumentationEmbeddingModel","relationType":"manages"}
{"type":"relation","from":"MemoryBackendRepository","to":"MemoryBackendModel","relationType":"manages"}
{"type":"relation","from":"McpRepository","to":"McpSettingsModel","relationType":"manages"}
{"type":"relation","from":"McpRepository","to":"McpServerModel","relationType":"manages"}
{"type":"relation","from":"SchemaRepository","to":"SchemaModel","relationType":"manages"}
{"type":"relation","from":"FlowModel","to":"TaskModel","relationType":"contains"}
{"type":"relation","from":"FlowModel","to":"AgentModel_Real","relationType":"uses"}
{"type":"relation","from":"FlowExecutionModel","to":"FlowModel","relationType":"executes"}
{"type":"relation","from":"TaskModel","to":"AgentModel_Real","relationType":"assigned_to"}
{"type":"relation","from":"TaskModel","to":"ToolModel","relationType":"uses"}
{"type":"relation","from":"CrewModel_Real","to":"AgentModel_Real","relationType":"contains"}
{"type":"relation","from":"AgentModel_Real","to":"ToolModel","relationType":"uses"}
{"type":"relation","from":"UserModel_Real","to":"GroupModel","relationType":"belongs_to"}
{"type":"relation","from":"ExecutionLogsModel","to":"FlowExecutionModel","relationType":"logs_for"}
{"type":"relation","from":"DatabricksVectorSearchEndpoint","to":"DatabricksVectorIndex","relationType":"manages"}
{"type":"relation","from":"DatabricksVectorSearchClient","to":"DatabricksVectorSearchEndpoint","relationType":"connects_to"}
{"type":"relation","from":"VectorEmbeddingPipeline","to":"DatabricksVectorIndex","relationType":"populates"}
{"type":"relation","from":"DatabricksVolumeManager","to":"DatabricksVolumeStorage","relationType":"coordinates"}
{"type":"relation","from":"VolumeKnowledgeIngestion","to":"DatabricksVolumeStorage","relationType":"reads_from"}
{"type":"relation","from":"VolumeKnowledgeIngestion","to":"VectorEmbeddingPipeline","relationType":"feeds_to"}
{"type":"relation","from":"DatabricksOBOAuthentication","to":"OBOTokenManager","relationType":"uses"}
{"type":"relation","from":"DatabricksOBOAuthentication","to":"UserContextManager","relationType":"uses"}
{"type":"relation","from":"DatabricksOAuthProvider","to":"OAuth2AuthorizationFlow","relationType":"implements"}
{"type":"relation","from":"AuthenticationFlowOrchestrator","to":"JWTAuthenticationFlow","relationType":"orchestrates"}
{"type":"relation","from":"AuthenticationFlowOrchestrator","to":"OAuth2AuthorizationFlow","relationType":"orchestrates"}
{"type":"relation","from":"AuthorizationManager","to":"UserContextManager","relationType":"validates_with"}
{"type":"relation","from":"DatabricksKnowledgeRouter","to":"DatabricksKnowledgeService","relationType":"delegates_to"}
{"type":"relation","from":"FlowsRouter","to":"FlowService","relationType":"delegates_to"}
{"type":"relation","from":"ExecutionsRouter","to":"ExecutionService","relationType":"delegates_to"}
{"type":"relation","from":"ModelsRouter","to":"ModelConfigService","relationType":"delegates_to"}
{"type":"relation","from":"DatabricksRouter","to":"DatabricksService","relationType":"delegates_to"}
{"type":"relation","from":"AgentRouter","to":"AgentService","relationType":"delegates_to"}
{"type":"relation","from":"TemplateRouter","to":"TemplateService","relationType":"delegates_to"}
{"type":"relation","from":"FlowService","to":"FlowRepository_Real","relationType":"uses"}
{"type":"relation","from":"ExecutionService","to":"ExecutionRepository","relationType":"uses"}
{"type":"relation","from":"ModelConfigService","to":"ModelConfigRepository","relationType":"uses"}
{"type":"relation","from":"DatabricksService","to":"DatabricksConfigRepository","relationType":"uses"}
{"type":"relation","from":"AgentService","to":"AgentRepository_Real","relationType":"uses"}
{"type":"relation","from":"TemplateService","to":"TemplateRepository_Real","relationType":"uses"}
{"type":"relation","from":"TaskService","to":"TaskRepository_Real","relationType":"uses"}
{"type":"relation","from":"ToolService","to":"ToolRepository_Real","relationType":"uses"}
{"type":"relation","from":"UserService","to":"UserRepository_Real","relationType":"uses"}
{"type":"relation","from":"DatabricksKnowledgeService","to":"DatabricksVectorIndexRepository","relationType":"uses"}
{"type":"relation","from":"DatabricksKnowledgeService","to":"DatabricksVolumeRepository","relationType":"uses"}
{"type":"relation","from":"CrewRouter","to":"CrewService","relationType":"delegates_to"}
{"type":"relation","from":"CrewService","to":"CrewRepository_Real","relationType":"uses"}
{"type":"relation","from":"AuthRouter","to":"AuthService","relationType":"delegates_to"}
{"type":"relation","from":"AgentsRouter","to":"AgentService","relationType":"delegates_to"}
{"type":"relation","from":"TemplatesRouter","to":"TemplateService","relationType":"delegates_to"}
{"type":"relation","from":"CrewsRouter","to":"CrewService","relationType":"delegates_to"}