{"type":"_aim","source":"mcp-knowledge-graph"}
{"type":"entity","name":"ResearcherAgent","entityType":"ai_agent","observations":["Information gathering and analysis agent","Web search and document processing","Data collection and summarization","Research methodology implementation","Knowledge synthesis capabilities"]}
{"type":"entity","name":"AnalystAgent","entityType":"ai_agent","observations":["Data analysis and interpretation agent","Statistical analysis and insights","Pattern recognition and trends","Report generation and visualization","Decision support capabilities"]}
{"type":"entity","name":"WriterAgent","entityType":"ai_agent","observations":["Content creation and documentation agent","Technical writing and documentation","Report formatting and structure","Style guide compliance","Multi-format output generation"]}
{"type":"entity","name":"ReviewerAgent","entityType":"ai_agent","observations":["Quality assurance and validation agent","Content review and fact-checking","Compliance verification","Error detection and correction","Feedback and improvement suggestions"]}
{"type":"entity","name":"CrewConfiguration","entityType":"crew_config","observations":["Agent orchestration settings","Task dependency definitions","Communication protocols","Memory sharing configurations","Output aggregation rules"]}
{"type":"entity","name":"ModelConfiguration","entityType":"model_config","observations":["LLM provider settings (Databricks, OpenAI, Anthropic)","Model parameters and tuning","Temperature and token limits","Context window management","Cost optimization settings"]}
{"type":"entity","name":"ToolConfiguration","entityType":"tool_config","observations":["Agent tool assignments","API integrations and credentials","Custom tool implementations","Tool usage policies","Security and access controls"]}
{"type":"entity","name":"MemoryConfiguration","entityType":"memory_config","observations":["Long-term memory storage","Short-term context management","Memory persistence strategies","Vector search integration","Memory cleanup policies"]}
{"type":"entity","name":"CrewAI_Framework","entityType":"ai_framework","observations":["Multi-agent orchestration framework used as core AI engine","Handles agent workflows, task coordination, and crew execution","Integrates with multiple LLM providers (Databricks, OpenAI, Anthropic)","Supports memory persistence and knowledge management","Version used supports Flow framework for advanced orchestration","Event bus system enables callback integration","Memory persistence through multiple storage backends","Tool integration via crewai_tools and custom implementations"]}
{"type":"entity","name":"CrewAIEngineService","entityType":"service","observations":["Core service orchestrating CrewAI crew execution","Manages execution lifecycle: initialization, running, status tracking, cancellation","Handles both standard crew execution and flow-based execution","Maintains running jobs registry and execution status updates","Async execution model with subprocess isolation","Status tracking through _running_jobs registry","Cancellation support with graceful shutdown","Output directory management for execution artifacts"]}
{"type":"entity","name":"CrewAI_Agent","entityType":"ai_component","observations":["Individual AI agents with specific roles and capabilities","Configured with LLM models, tools, and knowledge sources","Supports memory backends (SQLite, RAG, Vector Search)","Created via agent_helpers.create_agent() function","UPDATED: No longer uses knowledge sources directly","Now uses DatabricksKnowledgeSearchTool for explicit knowledge retrieval","Agents call knowledge search tool when needed","Tool-based approach replaces automatic knowledge source integration"]}
{"type":"entity","name":"CrewAI_Crew","entityType":"ai_component","observations":["Collection of agents working together on coordinated tasks","Supports sequential and hierarchical processes","Manages agent interactions and task dependencies","Configurable with memory backends and execution settings"]}
{"type":"entity","name":"CrewAI_Task","entityType":"ai_component","observations":["Discrete work units assigned to agents","Supports context, expected output, and validation criteria","Can be chained together for complex workflows","Created via task_helpers.create_task() function"]}
{"type":"entity","name":"CrewAI_Flow","entityType":"ai_workflow","observations":["Advanced workflow orchestration using CrewAI Flow framework","Supports conditional logic, routing, and complex execution patterns","Managed by FlowRunnerService and BackendFlow classes","Enables dynamic agent and task creation during runtime","Dynamic flow builder with conditional logic","Agent and task configuration modules","Callback manager for event handling","Runtime agent/task creation capabilities"]}
{"type":"entity","name":"CrewAI_Tools","entityType":"ai_component","observations":["Extensible tool system for agent capabilities","Includes crewai_tools: SerperDev, DallE, WebScraping, CodeInterpreter","Custom tools: DatabricksCustomTool, PerplexityTool, GenieeTool","MCP integration for external tool providers","Tool factory pattern for centralized tool management","MCP (Model Context Protocol) integration for external tools","Custom Databricks tools for workspace integration","Native tools: SerperDev, DallE, WebScraping, CodeInterpreter"]}
{"type":"entity","name":"CrewAI_Knowledge","entityType":"ai_component","observations":["Knowledge source management for agent context","Supports Databricks Volume and Vector Search integration","String-based knowledge sources for dynamic content","Factory pattern for knowledge source creation","DEPRECATED: Factory pattern for knowledge sources removed","Replaced by tool-based knowledge search approach","DatabricksKnowledgeSearchTool provides knowledge access","Knowledge sources no longer automatically integrated with agents"]}
{"type":"entity","name":"CrewAI_Memory","entityType":"ai_component","observations":["Persistent memory system for agents and crews","Multiple backends: SQLite, RAG Storage, Vector Search","Supports short-term, long-term, and entity memory","Configurable per crew with isolation by execution_id","MemoryBackendFactory for configurable storage","Support for Databricks Vector Search as backend","Execution ID isolation for multi-tenant scenarios","RAG storage integration for advanced retrieval"]}
{"type":"entity","name":"CrewAI_Callbacks","entityType":"ai_component","observations":["Event-driven callback system for execution monitoring","Logging callbacks for audit trails and debugging","Streaming callbacks for real-time progress updates","Integration with CrewAI event bus system"]}
{"type":"entity","name":"CrewAI_Best_Practices","entityType":"guidelines","observations":["Async/await pattern throughout for non-blocking operations","Subprocess isolation for crew execution to prevent memory leaks","Deterministic crew IDs for memory persistence across executions","Group isolation for multi-tenant data separation","Error handling with graceful degradation","Logging integration for audit trails and debugging"]}
{"type":"entity","name":"CrewAI_Configuration","entityType":"pattern","observations":["Configuration-driven agent and task creation","Environment-based model selection","Memory backend selection via MemoryBackendConfig","Tool selection through tool factory pattern","Knowledge source configuration with factory pattern","UPDATED: Knowledge source configuration removed","Tool selection through tool factory pattern still applies","Agents configure tools including DatabricksKnowledgeSearchTool","Explicit tool-based knowledge access replaces automatic sources"]}
{"type":"entity","name":"CrewAI_Integration_Points","entityType":"pattern","observations":["FastAPI router endpoints for crew execution","WebSocket streaming for real-time updates","Database persistence for execution results","Databricks OAuth for authentication","Vector Search for knowledge retrieval","Model Context Protocol (MCP) for external tools"]}
{"type":"entity","name":"StopExecutionFeature","entityType":"feature","observations":["Feature branch: feature/stop-execution","Implements execution stopping capabilities","Spans across backend and frontend components","Modifies process crew executor and monitoring hooks","Updates frontend execution monitoring components"]}
{"type":"entity","name":"VectorSearchIntegration","entityType":"integration","observations":["Deep integration with Databricks Vector Search","Replaces ChromaDB for embedding storage","Supports Direct Access indexes","Implements document embedding and retrieval","Uses repository pattern for Vector Search operations","Handles authentication via OBO and PAT tokens"]}
{"type":"entity","name":"KnowledgeGraphEnforcement","entityType":"tool","observations":["Hook implementation for enforcing knowledge graph usage","Located in .claude/hooks/knowledge-graph-enforcement.py","Blocks file operations without prior knowledge graph consultation","Suggests knowledge graph updates after file modifications","Implements CLAUDE.md mandatory workflow requirements"]}
{"type":"entity","name":"AgentReasoning","entityType":"feature","observations":["CrewAI feature that allows agents to reflect on tasks before execution","Agents create a detailed plan and evaluate their readiness","Enabled by setting reasoning=True when creating an agent","Helps agents break down complex tasks into manageable steps","If reasoning fails, agent still attempts to complete the task","Injects reasoning plan into task description for better execution"]}
{"type":"entity","name":"ReasoningConfiguration","entityType":"configuration","observations":["Set reasoning=True in agent configuration to enable","Optional max_reasoning_attempts parameter controls retry attempts","Reasoning LLM can be specified separately from execution LLM","Frontend store tracks reasoningEnabled boolean flag","Backend agent_helpers.py passes reasoning param to Agent constructor","Lines 331-332 in agent_helpers.py include reasoning and max_reasoning_attempts","IMPORTANT: Reasoning is configured at CREW level, not agent level","Set in crew_config with 'reasoning': True","Lines 1344-1353 in crew_preparation.py handle crew reasoning","reasoning_llm can be specified separately for crew reasoning","When crew has reasoning enabled, ALL agents in crew will use reasoning","Frontend tracks reasoningEnabled in crewExecution store"]}
{"type":"entity","name":"PlanningGuidance","entityType":"best_practice","observations":["Crew-level feature for strategic task orchestration","Enable for complex multi-step workflows with dependencies","Enable for projects needing autonomous task decomposition","Disable for simple well-defined tasks","Disable for speed-critical operations","Disable for deterministic workflows with fixed sequences","Adds 5-10 minute overhead to execution time","Improves task coordination and strategic approach","Uses gpt-4o-mini by default, customizable via planning_llm"]}
{"type":"entity","name":"ReasoningGuidance","entityType":"best_practice","observations":["Agent-level feature for reflection before task execution","Enable for complex tasks requiring breakdown into steps","Enable for problems needing methodical analysis","Enable when quality matters more than speed","Disable for simple straightforward tasks","Disable for time-critical operations","Disable for well-defined procedures","Each iteration adds overhead and potential error risk","Max_reasoning_attempts limits refinement cycles","Falls back to direct execution if reasoning fails"]}
{"type":"entity","name":"DatabricksCustomTool","entityType":"custom_tool","observations":["Custom Databricks workspace integration tool","Located in src/backend/src/engines/crewai/tools/custom/databricks_custom_tool.py","Databricks workspace operations","Custom API interactions with Databricks"]}
{"type":"entity","name":"DatabricksJobsTool","entityType":"custom_tool","observations":["Databricks job management tool","Located in src/backend/src/engines/crewai/tools/custom/databricks_jobs_tool.py","Job execution and monitoring","Databricks job lifecycle management"]}
{"type":"entity","name":"PerplexityTool","entityType":"custom_tool","observations":["Perplexity AI search integration","Located in src/backend/src/engines/crewai/tools/custom/perplexity_tool.py","AI-powered search queries","External AI service integration"]}
{"type":"entity","name":"PythonPPTXTool","entityType":"custom_tool","observations":["PowerPoint presentation generation tool","Located in src/backend/src/engines/crewai/tools/custom/python_pptx_tool.py","Automated presentation creation","Document generation capabilities"]}
{"type":"entity","name":"GenieTool","entityType":"custom_tool","observations":["Databricks Genie natural language tool","Located in src/backend/src/engines/crewai/tools/custom/genie_tool.py","Natural language to SQL conversion","Genie space integration"]}
{"type":"relation","from":"CrewConfiguration","to":"ResearcherAgent","relationType":"orchestrates"}
{"type":"relation","from":"CrewConfiguration","to":"AnalystAgent","relationType":"orchestrates"}
{"type":"relation","from":"CrewConfiguration","to":"WriterAgent","relationType":"orchestrates"}
{"type":"relation","from":"CrewConfiguration","to":"ReviewerAgent","relationType":"orchestrates"}
{"type":"relation","from":"ResearcherAgent","to":"ToolConfiguration","relationType":"uses"}
{"type":"relation","from":"AnalystAgent","to":"ToolConfiguration","relationType":"uses"}
{"type":"relation","from":"WriterAgent","to":"ModelConfiguration","relationType":"uses"}
{"type":"relation","from":"ReviewerAgent","to":"ModelConfiguration","relationType":"uses"}
{"type":"relation","from":"CrewConfiguration","to":"MemoryConfiguration","relationType":"uses"}
{"type":"relation","from":"CrewAIEngineService","to":"CrewAI_Framework","relationType":"orchestrates"}
{"type":"relation","from":"CrewAI_Crew","to":"CrewAI_Agent","relationType":"contains"}
{"type":"relation","from":"CrewAI_Crew","to":"CrewAI_Task","relationType":"executes"}
{"type":"relation","from":"CrewAI_Agent","to":"CrewAI_Task","relationType":"performs"}
{"type":"relation","from":"CrewAI_Agent","to":"CrewAI_Tools","relationType":"uses"}
{"type":"relation","from":"CrewAI_Agent","to":"CrewAI_Memory","relationType":"utilizes"}
{"type":"relation","from":"CrewAI_Flow","to":"CrewAI_Crew","relationType":"orchestrates"}
{"type":"relation","from":"CrewAI_Flow","to":"CrewAI_Agent","relationType":"manages"}
{"type":"relation","from":"CrewAIEngineService","to":"CrewAI_Flow","relationType":"executes"}
{"type":"relation","from":"AgentReasoning","to":"CrewAI","relationType":"feature_of"}
{"type":"relation","from":"ReasoningConfiguration","to":"AgentReasoning","relationType":"configures"}
{"type":"relation","from":"ProcessCrewExecutor","to":"AgentReasoning","relationType":"can_use"}
{"type":"relation","from":"CrewAI_Agent","to":"DatabricksKnowledgeSearchTool","relationType":"uses_tool"}