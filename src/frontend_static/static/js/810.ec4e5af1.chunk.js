"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[810],{20810:(e,t,s)=>{s.r(t),s.d(t,{customTools:()=>ee,default:()=>se});var i=s(80045),n=s(89379),o=s(9950),a=s(16491),r=s(29044),l=s(82053),c=s(18216),d=s(8145),u=s(48089),m=s(50704),g=s(25333),p=s(11966),h=s(84142),x=s(1320),f=s(2235),y=s(15769),v=s(69780),A=s(9213),b=s(21671),k=s(34075),j=s(37324),w=s(63464),C=s(92649),T=s(28170),S=s(25979),L=s(19647),I=s(70006),M=s(23266),R=s(79739),D=s(4862),E=s(65429),P=s(57988),z=s(7999),U=s(99532),N=s(95849),O=s(67818),W=s(25277),q=s(33738),B=s(249),Q=s(26050),H=s(58772),G=s(74763),F=s(73175),V=s(33893),J=s(18726),X=s(13246),Y=s(44414);const K={FileReadTool:{riskLevel:"CRITICAL",description:"Can read files within the container filesystem",risks:["Path traversal attacks (../../../etc/passwd)","Access to other users' sensitive files","Reading system configuration files","Exposure of API keys, passwords, and secrets","No tenant isolation in multi-user environments"],mitigations:["Restrict to specific directories only","Implement path validation and sanitization","Use sandboxed file access","Add audit logging for all file reads"],singleTenantRiskLevel:"LOW",singleTenantRisks:["Can read files within user's dedicated container","Access to user's workspace files and configurations","Reading of temporary files and logs within container"],singleTenantMitigations:["Container runs with non-root user privileges","Filesystem isolated to user's container only","API keys managed through secure backend service","No access to other users or system files"],deploymentContext:"Single-tenant containerized deployment on Databricks"},FileWriterTool:{riskLevel:"CRITICAL",description:"Can write/overwrite files anywhere on the system",risks:["Overwrite critical system files","Create malicious executable files","Modify other users' data","Path traversal for unauthorized file creation","No size limits or content validation"],mitigations:["Restrict write operations to specific directories","Implement file size and content validation","Use sandboxed file system access","Add malware scanning for uploaded content"],singleTenantRiskLevel:"LOW",singleTenantRisks:["Can write files within user's container workspace","Potential to fill container disk space"],singleTenantMitigations:["Container filesystem isolation","Non-root user privileges","Disk quotas prevent space exhaustion"],deploymentContext:"Single-tenant containerized deployment"},CodeInterpreterTool:{riskLevel:"CRITICAL",description:"Executes arbitrary Python code with potential system access",risks:["Arbitrary code execution on host system","Network access to internal systems","File system manipulation","Process spawning and system commands","Installation of malicious packages"],mitigations:["Use containerized execution environment","Implement strict resource limits","Block network access and system calls","Use read-only file systems"],singleTenantRiskLevel:"MEDIUM",singleTenantRisks:["Code execution within container sandbox","Resource consumption (CPU, memory)","Network requests to external services"],singleTenantMitigations:["Sandboxed execution environment","Resource limits enforced","Network access controlled","Non-persistent container state"],deploymentContext:"Single-tenant containerized deployment"},DirectoryReadTool:{riskLevel:"CRITICAL",description:"Can read and traverse any directory structure",risks:["Exposure of directory structures and file paths","Discovery of hidden files and folders","Access to other users' directory listings","Information gathering for further attacks"],mitigations:["Restrict to user-specific directories","Implement path validation","Add access control checks"],singleTenantRiskLevel:"LOW",singleTenantRisks:["Can list directories within user's container","Access to container workspace structure"],singleTenantMitigations:["Container filesystem isolation","Non-root user privileges","Limited to user's workspace"],deploymentContext:"Single-tenant containerized deployment"},DatabricksCustomTool:{riskLevel:"CRITICAL",description:"Executes unlimited SQL operations on Databricks",risks:["SQL injection vulnerabilities","Unauthorized data access across tenants","Data modification or deletion","Performance impact from expensive queries","Access to system metadata tables"],mitigations:["Use parameterized queries only","Implement tenant-based data filtering","Add query approval workflows","Set query timeouts and resource limits"],singleTenantRiskLevel:"MEDIUM",singleTenantRisks:["SQL injection if queries not properly sanitized","Access to all data user has permissions for","Potential for expensive queries impacting performance","Data modification within user's scope"],singleTenantMitigations:["Databricks On-Behalf-Of (OBO) scopes access to user permissions","User can only access data they're already authorized for","Query execution limits enforced by Databricks","SQL operations logged and auditable"],deploymentContext:"Single-tenant with Databricks OBO security model"},DatabricksJobsTool:{riskLevel:"HIGH",description:"Manages Databricks Jobs with create, run, and monitor capabilities",risks:["Creation of arbitrary compute jobs","Resource consumption through job execution","Access to job configurations and outputs","Potential for running malicious code via jobs","Cross-tenant job visibility without proper filtering"],mitigations:["Validate job configurations before creation","Implement job resource limits and quotas","Add job approval workflows for sensitive operations","Monitor job execution patterns for anomalies"],singleTenantRiskLevel:"MEDIUM",singleTenantRisks:["Job creation and execution within user's workspace","Compute resource usage based on job configurations","Access to job outputs and logs","Potential for expensive compute operations"],singleTenantMitigations:["Databricks OBO ensures jobs run with user's permissions","User can only manage jobs they have access to","Databricks enforces compute resource limits","Job execution is logged and auditable","Workspace-level security policies apply"],deploymentContext:"Single-tenant with Databricks OBO security model"},GenieTool:{riskLevel:"HIGH",description:"Natural language interface to Databricks Genie AI assistant",risks:["Unrestricted natural language queries to database","Potential for complex data aggregations","Access to sensitive data through conversational interface","Query interpretation may expose unexpected data"],mitigations:["Implement query complexity limits","Add data access monitoring","Review query translations before execution","Use read-only database connections where possible"],singleTenantRiskLevel:"LOW",singleTenantRisks:["Natural language queries within user's data scope","Potential for unintended data exposure through AI interpretation","Performance impact from complex generated queries"],singleTenantMitigations:["Databricks OBO ensures queries run with user's permissions only","Genie AI respects existing data access controls","Query execution limited to user's authorized datasets","All interactions logged and auditable"],deploymentContext:"Single-tenant with Databricks OBO and Genie AI security"},NL2SQLTool:{riskLevel:"CRITICAL",description:"Converts natural language to SQL with injection risks",risks:["SQL injection through natural language manipulation","Unrestricted database access","Data exfiltration across tenant boundaries","Expensive query execution"],mitigations:["Use parameterized queries","Implement query whitelisting","Add tenant isolation filters","Monitor and limit query complexity"],singleTenantRiskLevel:"MEDIUM",singleTenantRisks:["SQL injection if NL parsing is compromised","Access to database within user permissions","Potential for complex expensive queries"],singleTenantMitigations:["Database access limited to user permissions","Query complexity monitoring","Parameterized query generation","Database connection limits"],deploymentContext:"Single-tenant with database access controls"},SeleniumScrapingTool:{riskLevel:"HIGH",description:"Full browser automation with web interaction capabilities",risks:["Automated interactions with any website","Cookie and session manipulation","Form submission with arbitrary data","Download of potentially malicious content"],mitigations:["Implement strict URL validation","Use sandboxed browser environment","Add content filtering and scanning","Limit interaction capabilities"],singleTenantRiskLevel:"MEDIUM",singleTenantRisks:["Web scraping within container environment","Network requests to external websites","Local file downloads within container"],singleTenantMitigations:["Container network controls","File downloads isolated to container","Browser runs in sandboxed environment","Resource limits prevent abuse"],deploymentContext:"Single-tenant containerized deployment"},MySQLSearchTool:{riskLevel:"HIGH",description:"Direct MySQL database access without tenant filtering",risks:["Cross-tenant data access","Potential for SQL injection","Unauthorized database operations","Performance impact from expensive queries"],mitigations:["Implement tenant-based access controls","Use read-only database connections","Add query validation and sanitization","Monitor database access patterns"],singleTenantRiskLevel:"MEDIUM",singleTenantRisks:["Database access within user permissions","Potential for expensive queries","MySQL connection resource usage"],singleTenantMitigations:["Database user permissions control access","Connection pooling and limits","Query timeout enforcement","API key service manages credentials"],deploymentContext:"Single-tenant with API key service"},PGSearchTool:{riskLevel:"HIGH",description:"Direct PostgreSQL database access without restrictions",risks:["Unrestricted database query execution","Cross-tenant data exposure","Performance degradation from complex queries","Access to system tables and metadata"],mitigations:["Implement row-level security","Use dedicated read-only database user","Add query complexity limits","Enable comprehensive audit logging"],singleTenantRiskLevel:"MEDIUM",singleTenantRisks:["PostgreSQL access within user permissions","Complex query execution","Database resource consumption"],singleTenantMitigations:["Database role-based access controls","Connection limits and timeouts","Query monitoring and limits","Secure credential management"],deploymentContext:"Single-tenant with API key service"},CSVSearchTool:{riskLevel:"MEDIUM",description:"Searches within CSV files with potential path traversal",risks:["Access to CSV files outside intended scope","Exposure of structured data across tenants","Path traversal to unauthorized files"],mitigations:["Restrict file access to specific directories","Validate file paths and extensions","Implement user-based access controls"],singleTenantRiskLevel:"LOW",singleTenantRisks:["Access to CSV files within user's container workspace","File content exposure limited to user's data"],singleTenantMitigations:["Container filesystem isolation","Non-root user privileges","File access limited to user workspace"],deploymentContext:"Single-tenant containerized deployment"},JSONSearchTool:{riskLevel:"MEDIUM",description:"Accesses JSON files potentially containing sensitive data",risks:["Exposure of configuration files","Access to API keys in JSON format","Cross-tenant file access"],mitigations:["Sanitize sensitive data from results","Restrict to approved file locations","Add content filtering"],singleTenantRiskLevel:"LOW",singleTenantRisks:["Access to JSON files within user's container","Configuration file exposure limited to user scope"],singleTenantMitigations:["API keys managed through secure backend service","Container filesystem isolation","Non-root user privileges"],deploymentContext:"Single-tenant containerized deployment"},DirectorySearchTool:{riskLevel:"HIGH",description:"Searches directory structures without path restrictions",risks:["Discovery of hidden files and directories","Mapping of system file structures","Information gathering for targeted attacks","Cross-tenant directory access"],mitigations:["Restrict to user-specific directories only","Implement path validation and sanitization","Add audit logging for directory searches"],singleTenantRiskLevel:"LOW",singleTenantRisks:["Directory structure discovery within user container","Access to user workspace file organization"],singleTenantMitigations:["Container filesystem isolation","Non-root user privileges","Limited to user's workspace directories"],deploymentContext:"Single-tenant containerized deployment"},TXTSearchTool:{riskLevel:"MEDIUM",description:"Searches text files that may contain sensitive information",risks:["Access to log files containing secrets","Reading configuration files with credentials","Cross-tenant file access","Exposure of debugging information"],mitigations:["Restrict file access to approved directories","Filter out sensitive content from results","Implement content scanning and sanitization"],singleTenantRiskLevel:"LOW",singleTenantRisks:["Access to text files within user container","Log file access limited to user's processes","Configuration exposure within user scope"],singleTenantMitigations:["Container filesystem isolation","API keys managed through secure backend service","Non-root user privileges","Content limited to user workspace"],deploymentContext:"Single-tenant containerized deployment"},PDFSearchTool:{riskLevel:"MEDIUM",description:"Searches PDF documents that may contain sensitive data",risks:["Access to confidential documents","Cross-tenant document access","Exposure of embedded metadata","Access to password-protected content"],mitigations:["Implement document access controls","Strip metadata from search results","Add content filtering capabilities"],singleTenantRiskLevel:"LOW",singleTenantRisks:["Access to PDF documents within user container","Document metadata exposure limited to user files","Content access within user workspace"],singleTenantMitigations:["Container filesystem isolation","Non-root user privileges","Document access limited to user workspace","No cross-tenant document exposure"],deploymentContext:"Single-tenant containerized deployment"},DOCXSearchTool:{riskLevel:"MEDIUM",description:"Searches Word documents potentially containing sensitive data",risks:["Access to business-critical documents","Exposure of document metadata and history","Cross-tenant document access","Reading embedded objects and macros"],mitigations:["Restrict to approved document repositories","Sanitize document metadata","Implement virus scanning for macros"],singleTenantRiskLevel:"LOW",singleTenantRisks:["Access to Word documents within user container","Document metadata exposure limited to user files","Macro execution within sandboxed environment"],singleTenantMitigations:["Container filesystem isolation","Non-root user privileges","Document access limited to user workspace","Macro execution in controlled environment"],deploymentContext:"Single-tenant containerized deployment"},XMLSearchTool:{riskLevel:"MEDIUM",description:"Searches XML files including configuration and data files",risks:["Access to application configuration files","Exposure of API endpoints and credentials","Reading database connection strings","Access to structured sensitive data"],mitigations:["Implement XML content filtering","Restrict to non-sensitive XML files","Sanitize credential information"],singleTenantRiskLevel:"LOW",singleTenantRisks:["Access to XML files within user container","Configuration file exposure limited to user scope","Structured data access within user workspace"],singleTenantMitigations:["Container filesystem isolation","API keys managed through secure backend service","Non-root user privileges","XML content limited to user workspace"],deploymentContext:"Single-tenant containerized deployment"},SnowflakeSearchTool:{riskLevel:"HIGH",description:"Direct Snowflake data warehouse access without tenant filtering",risks:["Cross-tenant data warehouse access","Exposure of enterprise data analytics","Unauthorized query execution on large datasets","Performance impact from expensive operations"],mitigations:["Implement row-level security policies","Use role-based access controls","Add query monitoring and limits","Enable comprehensive audit logging"],singleTenantRiskLevel:"MEDIUM",singleTenantRisks:["Snowflake access within user permissions","Query execution on authorized datasets","Performance impact from complex queries","Data warehouse resource consumption"],singleTenantMitigations:["Snowflake role-based access controls","API key service manages credentials","Query timeout and resource limits","Connection pooling and monitoring"],deploymentContext:"Single-tenant with API key service"},QdrantVectorSearchTool:{riskLevel:"HIGH",description:"Vector database access for similarity searches",risks:["Access to vectorized sensitive data","Cross-tenant vector space access","Potential for data inference attacks","Exposure of ML model embeddings"],mitigations:["Implement vector space isolation","Add tenant-based filtering","Monitor similarity search patterns"],singleTenantRiskLevel:"MEDIUM",singleTenantRisks:["Vector database access within user permissions","Similarity searches on user's vector collections","ML model embedding exposure within user scope"],singleTenantMitigations:["Vector database access controls","API key service manages credentials","Collection-level access restrictions","Query monitoring and limits"],deploymentContext:"Single-tenant with API key service"},WeaviateVectorSearchTool:{riskLevel:"HIGH",description:"Vector database operations with multi-modal search",risks:["Multi-modal data access across tenants","Exposure of knowledge graphs","Semantic search across sensitive content","Vector-based data correlation attacks"],mitigations:["Implement strict schema-based isolation","Add vector access controls","Monitor cross-modal search patterns"],singleTenantRiskLevel:"MEDIUM",singleTenantRisks:["Multi-modal vector search within user permissions","Knowledge graph access limited to user's data","Semantic search on authorized content"],singleTenantMitigations:["Weaviate schema-based access controls","API key service manages credentials","User-specific vector collections","Query monitoring and resource limits"],deploymentContext:"Single-tenant with API key service"}},Z=e=>{let{open:t,onClose:s,onConfirm:i,tool:n}=e;const[r,d]=(0,o.useState)(!1);if(!n)return null;const u=K[n.title]||{riskLevel:"MEDIUM",description:"This tool may pose security risks in multi-tenant environments",risks:["Potential for unauthorized access","May affect other users"],mitigations:["Monitor usage carefully","Implement proper access controls"],singleTenantRiskLevel:"LOW",singleTenantRisks:["Limited risk in containerized single-tenant environment"],singleTenantMitigations:["Container isolation provides security boundaries"],deploymentContext:"Single-tenant containerized deployment"},m=e=>{switch(e){case"CRITICAL":return"error";case"HIGH":return"warning";case"MEDIUM":return"info";case"LOW":return"success";default:return"default"}};return(0,Y.jsxs)(w.A,{open:t,onClose:s,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"400px"}},children:[(0,Y.jsxs)(C.A,{sx:{display:"flex",alignItems:"center",gap:1,pb:1},children:[(0,Y.jsx)(V.A,{color:"error"}),(0,Y.jsx)(l.A,{variant:"h6",children:"Security Warning"}),(0,Y.jsxs)(a.A,{sx:{ml:"auto",display:"flex",gap:1},children:[(0,Y.jsx)(W.A,{label:"MULTI-TENANT: ".concat(u.riskLevel),color:m(u.riskLevel),size:"small"}),u.singleTenantRiskLevel&&(0,Y.jsx)(W.A,{label:"SINGLE-TENANT: ".concat(u.singleTenantRiskLevel),color:m(u.singleTenantRiskLevel),size:"small",variant:"outlined"})]})]}),(0,Y.jsxs)(T.A,{children:[(0,Y.jsxs)(E.A,{severity:"warning",sx:{mb:3},children:[(0,Y.jsx)(l.A,{variant:"subtitle1",gutterBottom:!0,children:(0,Y.jsxs)("strong",{children:["\u26a0\ufe0f You are about to enable: ",n.title]})}),(0,Y.jsx)(l.A,{variant:"body2",sx:{mb:2},children:"This tool has security implications. Please review the risk classifications below."}),(0,Y.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[(0,Y.jsx)(l.A,{variant:"body2",sx:{fontWeight:"bold"},children:"Security Risk Levels:"}),(0,Y.jsx)(W.A,{label:"Multi-Tenant: ".concat(u.riskLevel),color:m(u.riskLevel),size:"small"}),(0,Y.jsx)(W.A,{label:"Single-Tenant: ".concat(u.singleTenantRiskLevel||"LOW"),color:m(u.singleTenantRiskLevel||"LOW"),size:"small",variant:"outlined"})]}),(0,Y.jsx)(c.A,{onClick:()=>d(!r),startIcon:r?(0,Y.jsx)(X.A,{}):(0,Y.jsx)(J.A,{}),size:"small",sx:{mt:1},children:r?"Hide Details":"Show Security Details"})]}),(0,Y.jsx)(q.A,{in:r,children:(0,Y.jsxs)(a.A,{sx:{mb:3},children:[u.deploymentContext&&(0,Y.jsxs)(l.A,{variant:"body2",sx:{mb:2,fontStyle:"italic",color:"text.secondary"},children:["Deployment Context: ",u.deploymentContext]}),(0,Y.jsxs)(a.A,{sx:{mb:3},children:[(0,Y.jsxs)(l.A,{variant:"h6",color:"error",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,Y.jsx)(F.A,{})," Multi-Tenant Security Risks"]}),(0,Y.jsx)(B.A,{dense:!0,children:u.risks.map((e,t)=>(0,Y.jsx)(Q.Ay,{sx:{py:.5},children:(0,Y.jsx)(H.A,{primary:"\u2022 ".concat(e),sx:{color:"error.main"}})},t))})]}),u.singleTenantRisks&&(0,Y.jsxs)(a.A,{sx:{mb:3},children:[(0,Y.jsx)(l.A,{variant:"h6",color:"info.main",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:"\u{1f4e6} Single-Tenant Containerized Risks"}),(0,Y.jsx)(B.A,{dense:!0,children:u.singleTenantRisks.map((e,t)=>(0,Y.jsx)(Q.Ay,{sx:{py:.5},children:(0,Y.jsx)(H.A,{primary:"\u2022 ".concat(e),sx:{color:"info.main"}})},t))})]}),(0,Y.jsx)(G.A,{sx:{my:2}}),(0,Y.jsxs)(a.A,{sx:{mb:2},children:[(0,Y.jsx)(l.A,{variant:"h6",color:"success.main",gutterBottom:!0,children:"\u{1f6e1}\ufe0f General Security Mitigations"}),(0,Y.jsx)(B.A,{dense:!0,children:u.mitigations.map((e,t)=>(0,Y.jsx)(Q.Ay,{sx:{py:.5},children:(0,Y.jsx)(H.A,{primary:"\u2022 ".concat(e),sx:{color:"text.secondary"}})},t))})]}),u.singleTenantMitigations&&(0,Y.jsxs)(a.A,{sx:{mb:2},children:[(0,Y.jsx)(l.A,{variant:"h6",color:"success.main",gutterBottom:!0,children:"\u2705 Container Security Mitigations"}),(0,Y.jsx)(B.A,{dense:!0,children:u.singleTenantMitigations.map((e,t)=>(0,Y.jsx)(Q.Ay,{sx:{py:.5},children:(0,Y.jsx)(H.A,{primary:"\u2022 ".concat(e),sx:{color:"success.main"}})},t))})]})]})}),(0,Y.jsxs)(E.A,{severity:"error",sx:{mt:3},children:[(0,Y.jsx)(l.A,{variant:"body2",children:(0,Y.jsx)("strong",{children:"By enabling this tool, you acknowledge that:"})}),(0,Y.jsxs)(l.A,{variant:"body2",component:"ul",sx:{mt:1,mb:0},children:[(0,Y.jsx)("li",{children:"You understand the security risks associated with this tool"}),(0,Y.jsx)("li",{children:"You will monitor its usage in your environment"}),(0,Y.jsx)("li",{children:"You are responsible for implementing appropriate security controls"}),(0,Y.jsx)("li",{children:"This tool may access sensitive data or system resources"})]})]})]}),(0,Y.jsxs)(R.A,{sx:{px:3,pb:3},children:[(0,Y.jsx)(c.A,{onClick:s,variant:"outlined",children:"Cancel"}),(0,Y.jsx)(c.A,{onClick:i,variant:"contained",color:"warning",startIcon:(0,Y.jsx)(V.A,{}),children:"I Understand the Risks - Enable Tool"})]})]})},$=["id","category"],_=[{value:"screwdriver-wrench",label:"Screwdriver Wrench"},{value:"search",label:"Search"},{value:"code",label:"Code"},{value:"database",label:"Database"},{value:"file",label:"File"},{value:"globe",label:"Web"},{value:"robot",label:"Robot"},{value:"cogs",label:"Settings"},{value:"development",label:"Development"}],ee=["GenieTool","PerplexityTool","DatabricksCustomTool","DatabricksJobsTool","PythonPPTXTool"],te=e=>{let t="PreBuilt";return ee.includes(e.title)&&(t="Custom"),{id:String(e.id),title:e.title,description:e.description,icon:e.icon,config:e.config,category:t,enabled:void 0===e.enabled||e.enabled}},se=()=>{const{t:e}=(0,O.Bd)(),[t,s]=(0,o.useState)({id:"",title:"",description:"",icon:"",config:{},category:"PreBuilt"}),[W,q]=(0,o.useState)([]),[B,Q]=(0,o.useState)([]),[H,G]=(0,o.useState)(""),[F,V]=(0,o.useState)(!1),[J,X]=(0,o.useState)(!1),[K,ee]=(0,o.useState)(0),[se,ie]=(0,o.useState)(!1),[ne,oe]=(0,o.useState)(null),[ae,re]=(0,o.useState)({open:!1,message:"",severity:"success"});(0,o.useEffect)(()=>{le()},[]),(0,o.useEffect)(()=>{const e=W.filter(e=>e.title.toLowerCase().includes(H.toLowerCase())||e.description.toLowerCase().includes(H.toLowerCase()));Q(e)},[W,H]);const le=async()=>{try{const e=await N.m.listTools();q(e.map(te))}catch(e){re({open:!0,message:"Error loading tools",severity:"error"})}},ce=e=>{const{name:t,value:i}=e.target;s(e=>(0,n.A)((0,n.A)({},e),{},{[t]:i}))},de=()=>{V(!1),X(!1),s({id:"",title:"",description:"",icon:"",config:{},category:"PreBuilt"})},ue=async e=>{s(e),X(!0),V(!0);try{const t=await N.m.getTool(Number(e.id));t?s(te(t)):re({open:!0,message:"Could not fetch latest tool data",severity:"error"})}catch(t){re({open:!0,message:t instanceof Error?t.message:"Error fetching tool data",severity:"error"})}},me=async t=>{if(window.confirm(e("tools.regular.confirmations.delete")))try{await N.m.deleteTool(Number(t)),q(e=>e.filter(e=>e.id!==t)),re({open:!0,message:e("tools.regular.messages.deleteSuccess"),severity:"success"})}catch(s){re({open:!0,message:s instanceof Error?s.message:e("tools.regular.messages.errorDeleting"),severity:"error"})}},ge=async e=>{const t=W.find(t=>t.id===e);if(t)return t.enabled?void await pe(e):(oe(t),void ie(!0))},pe=async e=>{try{const{enabled:t}=await N.m.toggleToolEnabled(Number(e));q(s=>s.map(s=>s.id===e?(0,n.A)((0,n.A)({},s),{},{enabled:t}):s));re({open:!0,message:"Tool ".concat(t?"enabled":"disabled"," successfully"),severity:"success"});const s=(await N.m.listTools()).map(e=>te(e)),i=new CustomEvent("toolStateChanged",{detail:{toolId:e,enabled:t,tools:s}});window.dispatchEvent(i)}catch(t){re({open:!0,message:t instanceof Error?t.message:"Error toggling tool state",severity:"error"})}},he=()=>{re(e=>(0,n.A)((0,n.A)({},e),{},{open:!1}))},xe=B.filter(e=>"PreBuilt"===e.category||!e.category),fe=B.filter(e=>"Custom"===e.category);return(0,Y.jsx)(a.A,{sx:{p:3},children:(0,Y.jsxs)(r.A,{spacing:3,children:[(0,Y.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Y.jsx)(l.A,{variant:"h4",children:e("tools.regular.title")}),(0,Y.jsx)(c.A,{variant:"contained",startIcon:(0,Y.jsx)(U.A,{}),onClick:()=>V(!0),children:e("tools.regular.addTool")})]}),(0,Y.jsx)(d.A,{fullWidth:!0,variant:"outlined",placeholder:e("tools.regular.searchPlaceholder"),value:H,onChange:e=>{G(e.target.value)},sx:{mb:2}}),(0,Y.jsx)(u.A,{children:(0,Y.jsxs)(m.A,{children:[(0,Y.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,Y.jsx)(l.A,{variant:"h6",children:e("tools.regular.existingTools")}),(0,Y.jsx)(a.A,{children:(0,Y.jsx)(g.A,{color:"primary",onClick:()=>{X(!1),s(e=>(0,n.A)((0,n.A)({},e),{},{category:0===K?"PreBuilt":"Custom"})),V(!0)},size:"small",children:(0,Y.jsx)(U.A,{})})})]}),(0,Y.jsxs)(p.A,{value:K,onChange:(e,t)=>{ee(t)},sx:{mb:2},children:[(0,Y.jsx)(h.A,{label:e("tools.regular.tabs.prebuilt")}),(0,Y.jsx)(h.A,{label:e("tools.regular.tabs.custom")})]}),0===K&&(0,Y.jsx)(x.A,{component:f.A,sx:{mt:0},children:(0,Y.jsxs)(y.A,{children:[(0,Y.jsx)(v.A,{children:(0,Y.jsxs)(A.A,{children:[(0,Y.jsx)(b.A,{children:e("tools.regular.fields.name")}),(0,Y.jsx)(b.A,{children:e("tools.regular.fields.description")}),(0,Y.jsx)(b.A,{align:"center",children:e("common.status")}),(0,Y.jsx)(b.A,{align:"center",children:e("common.actions")})]})}),(0,Y.jsx)(k.A,{children:0===xe.length?(0,Y.jsx)(A.A,{children:(0,Y.jsx)(b.A,{colSpan:4,align:"center",children:"No PreBuilt tools found"})}):xe.map(t=>(0,Y.jsxs)(A.A,{children:[(0,Y.jsx)(b.A,{children:t.title}),(0,Y.jsx)(b.A,{children:t.description.length>100?"".concat(t.description.substring(0,100),"..."):t.description}),(0,Y.jsx)(b.A,{align:"center",children:(0,Y.jsx)(j.A,{checked:!1!==t.enabled,onChange:()=>t.id&&ge(t.id),color:"primary",inputProps:{"aria-label":"toggle tool enabled state"}})}),(0,Y.jsxs)(b.A,{align:"center",children:[(0,Y.jsx)(g.A,{size:"small",onClick:()=>ue(t),"aria-label":e("common.edit"),children:(0,Y.jsx)(z.A,{fontSize:"small"})}),(0,Y.jsx)(g.A,{size:"small",onClick:()=>t.id&&me(t.id),"aria-label":e("common.delete"),children:(0,Y.jsx)(P.A,{fontSize:"small"})})]})]},t.id))})]})}),1===K&&(0,Y.jsx)(x.A,{component:f.A,sx:{mt:0},children:(0,Y.jsxs)(y.A,{children:[(0,Y.jsx)(v.A,{children:(0,Y.jsxs)(A.A,{children:[(0,Y.jsx)(b.A,{children:e("tools.regular.fields.name")}),(0,Y.jsx)(b.A,{children:e("tools.regular.fields.description")}),(0,Y.jsx)(b.A,{align:"center",children:e("common.status")}),(0,Y.jsx)(b.A,{align:"center",children:e("common.actions")})]})}),(0,Y.jsx)(k.A,{children:0===fe.length?(0,Y.jsx)(A.A,{children:(0,Y.jsx)(b.A,{colSpan:4,align:"center",children:"No Custom tools found"})}):fe.map(t=>(0,Y.jsxs)(A.A,{children:[(0,Y.jsx)(b.A,{children:t.title}),(0,Y.jsx)(b.A,{children:t.description.length>100?"".concat(t.description.substring(0,100),"..."):t.description}),(0,Y.jsx)(b.A,{align:"center",children:(0,Y.jsx)(j.A,{checked:!1!==t.enabled,onChange:()=>t.id&&ge(t.id),color:"primary",inputProps:{"aria-label":"toggle tool enabled state"}})}),(0,Y.jsxs)(b.A,{align:"center",children:[(0,Y.jsx)(g.A,{size:"small",onClick:()=>ue(t),"aria-label":e("common.edit"),children:(0,Y.jsx)(z.A,{fontSize:"small"})}),(0,Y.jsx)(g.A,{size:"small",onClick:()=>t.id&&me(t.id),"aria-label":e("common.delete"),children:(0,Y.jsx)(P.A,{fontSize:"small"})})]})]},t.id))})]})})]})}),(0,Y.jsxs)(w.A,{open:F,onClose:de,maxWidth:"sm",fullWidth:!0,children:[(0,Y.jsx)(C.A,{children:e(J?"tools.regular.editTool":"tools.regular.addTool")}),(0,Y.jsxs)("form",{onSubmit:async s=>{s.preventDefault();try{const{id:s,category:o}=t,a=(0,i.A)(t,$),r=(0,n.A)((0,n.A)({},a),{},{config:t.config?JSON.parse(JSON.stringify(t.config)):{}});if(J&&t.id){const s=await N.m.updateTool(Number(t.id),r);q(e=>e.map(e=>e.id===t.id?te(s):e)),re({open:!0,message:e("tools.regular.messages.updateSuccess"),severity:"success"}),de()}else{const t=await N.m.createTool(r);re({open:!0,message:e("tools.regular.messages.createSuccess"),severity:"success"}),q(e=>[...e,te(t)]),de()}}catch(o){re({open:!0,message:o instanceof Error?o.message:e("tools.regular.messages.errorSaving"),severity:"error"})}},children:[(0,Y.jsx)(T.A,{children:(0,Y.jsxs)(r.A,{spacing:2,children:[(0,Y.jsx)(d.A,{fullWidth:!0,label:e("tools.regular.form.title"),name:"title",value:t.title,onChange:ce,required:!0}),(0,Y.jsx)(d.A,{fullWidth:!0,label:e("tools.regular.form.description"),name:"description",value:t.description,onChange:ce,multiline:!0,rows:4,required:!0}),(0,Y.jsxs)(S.A,{fullWidth:!0,children:[(0,Y.jsx)(L.A,{children:e("tools.regular.form.icon")}),(0,Y.jsx)(I.A,{name:"icon",value:t.icon,onChange:ce,required:!0,children:_.map(e=>(0,Y.jsx)(M.A,{value:e.value,children:e.label},e.value))})]}),(0,Y.jsxs)(S.A,{fullWidth:!0,children:[(0,Y.jsx)(L.A,{children:e("tools.regular.form.category")}),(0,Y.jsxs)(I.A,{name:"category",value:t.category||"PreBuilt",onChange:ce,required:!0,children:[(0,Y.jsx)(M.A,{value:"PreBuilt",children:e("tools.regular.categories.prebuilt")}),(0,Y.jsx)(M.A,{value:"Custom",children:e("tools.regular.categories.custom")})]})]}),(0,Y.jsxs)(a.A,{children:[(0,Y.jsxs)(l.A,{variant:"subtitle1",gutterBottom:!0,sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e("tools.regular.form.configuration"),(0,Y.jsx)(c.A,{size:"small",onClick:()=>{s(e=>(0,n.A)((0,n.A)({},e),{},{config:(0,n.A)((0,n.A)({},e.config),{},{"":""})}))},children:e("tools.regular.form.addParameter")})]}),(0,Y.jsx)(r.A,{spacing:2,children:Object.entries(t.config||{}).map((t,i)=>{let[o,a]=t;return(0,Y.jsxs)(r.A,{direction:"row",spacing:2,alignItems:"center",children:[(0,Y.jsx)(d.A,{label:e("tools.regular.form.parameterName"),value:o,onChange:e=>{const t=e.target.value;s(e=>{const s=(0,n.A)({},e.config);return delete s[o],s[t]=a,(0,n.A)((0,n.A)({},e),{},{config:s})})},fullWidth:!0}),(0,Y.jsx)(d.A,{label:e("tools.regular.form.value"),value:a,onChange:e=>{const t=e.target.value;s(e=>(0,n.A)((0,n.A)({},e),{},{config:(0,n.A)((0,n.A)({},e.config),{},{[o]:t})}))},fullWidth:!0}),(0,Y.jsx)(g.A,{onClick:()=>{s(e=>{const t=(0,n.A)({},e.config);return delete t[o],(0,n.A)((0,n.A)({},e),{},{config:t})})},color:"error",size:"small",children:(0,Y.jsx)(P.A,{})})]},i)})})]})]})}),(0,Y.jsxs)(R.A,{children:[(0,Y.jsx)(c.A,{onClick:de,children:e("common.cancel")}),(0,Y.jsx)(c.A,{type:"submit",variant:"contained",color:"primary",children:e("common.save")})]})]})]}),(0,Y.jsx)(D.A,{open:ae.open,autoHideDuration:6e3,onClose:he,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,Y.jsx)(E.A,{onClose:he,severity:ae.severity,sx:{width:"100%"},children:ae.message})}),(0,Y.jsx)(Z,{open:se,onClose:()=>{ie(!1),oe(null)},onConfirm:async()=>{null!==ne&&void 0!==ne&&ne.id&&await pe(ne.id),ie(!1),oe(null)},tool:ne})]})})}},95849:(e,t,s)=>{s.d(t,{m:()=>n});var i=s(27887);class n{static async getTool(e){try{return(await i.uE.get("/tools/".concat(e))).data}catch(t){return null}}static async createTool(e){try{return(await i.uE.post("/tools",e)).data}catch(s){var t;throw new Error((null===(t=s.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.detail)||"Error creating tool")}}static async updateTool(e,t){try{const s={title:t.title,description:t.description,icon:t.icon,config:t.config};return(await i.uE.put("/tools/".concat(e),s)).data}catch(n){var s;throw new Error((null===(s=n.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.detail)||"Error updating tool")}}static async deleteTool(e){try{await i.uE.delete("/tools/".concat(e))}catch(s){var t;throw new Error((null===(t=s.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.detail)||"Error deleting tool")}}static async listTools(){try{return(await i.uE.get("/tools")).data}catch(t){var e;throw new Error((null===(e=t.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.detail)||"Error fetching tools")}}static async toggleToolEnabled(e){try{return{enabled:(await i.uE.patch("/tools/".concat(e,"/toggle-enabled"))).data.enabled}}catch(s){var t;throw new Error((null===(t=s.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.detail)||"Error toggling tool enabled state")}}}}}]);